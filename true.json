{
  "metadata": {
    "project_id": "uuid-goes-here",
    "project_name": "Текущий ремонт МБДОУ 'Аленушка'",
    "source_file_name": "estimate.xlsx",
    "created_at": "iso-timestamp-goes-here",
    "pipeline_status": [
      { "agent_name": "conceptualizer", "status": "pending" },
      { "agent_name": "strategist", "status": "pending" },
      { "agent_name": "accountant", "status": "pending" },
      { "agent_name": "foreman", "status": "pending" }
    ]
  },

  "project_inputs": {
    "target_work_package_count": 15,
    "project_timeline": {
      "start_date": "2025-09-01",
      "end_date": "2025-10-31"
    },
    "workforce_range": {
      "min": 10,
      "max": 20
    },
    "agent_directives": {
      "conceptualizer": "Особое внимание удели разделению отделочных работ по помещениям. Всю инженерию можно в один блок.",
      "strategist": "Демонтажные работы необходимо максимально растянуть на первые две недели.",
      "accountant": "При подсчете объемов полов, используй только площадь, игнорируя толщину стяжки.",
      "foreman": "На этап финишной отделки задействовать максимальное количество рабочих."
    },
    "external_context": {
      "object_characteristics": {
        "project_type": "Капитальный ремонт",
        "building_type": "Объект образования (школа)"
      },
      "site_conditions": {
        "location_type": "Плотная городская застройка",
        "work_time_restrictions": ["Запрет шумных работ с 8:00 до 16:00"]
      },
      "climate_factors": {
        "season": "Осень (дожди, возможны заморозки)"
      }
    }
  },

  "timeline_blocks": [
    {
      "week_id": 1,
      "start_date": "2025-09-01",
      "end_date": "2025-09-05",
      "work_days_count": 5
    },
    {
      "week_id": 2,
      "start_date": "2025-09-08",
      "end_date": "2025-09-12",
      "work_days_count": 5
    }
  ],

  "source_work_items": [
    {
      "id": "uuid-work-item-1",
      "source_file": "estimate.xlsx",
      "code": "ГЭСНр55-01-005-01",
      "name": "Разборка кирпичных перегородок на отдельные кирпичи",
      "unit": "м3",
      "quantity": 0.72
    },
    {
      "id": "uuid-work-item-2",
      "source_file": "estimate.xlsx",
      "code": "ГЭСН46-02-009-02",
      "name": "Отбивка штукатурки с поверхностей: стен и потолков кирпичных",
      "unit": "100 м2",
      "quantity": 0.243
    }
  ],

  "results": {
    "work_packages": [
      // Этот массив заполнит Агент 1 "Концептуализатор"
      // Пример:
      // {
      //   "package_id": "uuid-package-A",
      //   "package_name": "Демонтажные работы"
      // }
    ],
    "schedule": {
      // Этот объект заполнит Агент 2 "Стратег"
      // Пример:
      // "uuid-package-A": {
      //   "scheduled_weeks": [1, 2]
      // }
    },
    "accounting": {
      // Этот объект заполнит Агент 3 "Счетовод"
      // Пример:
      // "uuid-package-A": {
      //   "final_unit": "комплекс",
      //   "final_quantity": 1
      // }
    },
    "staffing": {
      // Этот объект заполнит Агент 4 "Бригадир"
      // Пример:
      // "week_1": {
      //   "uuid-package-A": 15 // 15 человек на этой задаче
      // }
    }
  }
}
Пояснения к структуре:
metadata: Служебная информация о проекте. Особенно важен pipeline_status, который мы будем обновлять после каждого агента.
project_inputs: Все, что задал пользователь. Этот блок неизменяем на протяжении всего пайплайна. Агенты его только читают.
timeline_blocks: Справочник по неделям. Тоже неизменяемый.
source_work_items: Исходные работы. Агент 1 добавит сюда поле package_id, чтобы связать их с укрупненными пакетами.
results: Это "рабочая зона", которую будут наполнять наши AI-агенты. Я разделил ее на под-объекты для каждого агента, чтобы было понятно, кто за какие данные отвечает. Это делает структуру еще чище.